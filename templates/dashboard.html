<!DOCTYPE html>
<html>
<head>
    <title>Dashboard - Online Billing System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<div class="title">Online Billing System - Dashboard</div>

<div class="container" style="width:80%;">

    <div style="display:flex; justify-content:space-between; align-items:center;">
    <h2>Welcome, {{ session['user'].capitalize() }}</h2>
    <a href="/invoices">
    <button style="width:140px; background:green;">View Invoices</button>
</a>

    <a href="/logout">
        <button style="width:120px; background:red;">Logout</button>
    </a>
</div>


    <hr>

    <h3>Add Product</h3>
    <form action="/add-product" method="POST">
        <input type="text" name="name" placeholder="Product Name" required>
        <input type="number" step="0.01" name="price" placeholder="Price" required>
        <input type="number" name="stock" placeholder="Stock" required>
        <button type="submit">Add Product</button>
    </form>

    <hr>

    <h3>Product List</h3>

    <table>

        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Price</th>
            <th>Stock</th>
        </tr>

        {% for p in products %}
        <tr>
            <td>{{ p.product_id }}</td>
            <td>{{ p.name }}</td>
            <td>{{ p.price }}</td>
            <td>{{ p.stock }}</td>
        </tr>
        {% endfor %}
    </table>
<hr>

<h3>Create Invoice</h3>

<form action="/create-invoice" method="POST">

    <input type="text" name="customer_name"
           placeholder="Customer Name" required>

    <h4>Select Products</h4>

    {% for p in products %}
    <div style="margin-bottom:10px;">

    <input type="checkbox"
           name="product_id"
           value="{{ p.product_id }}">

    {{ p.name }} (â‚¹{{ p.price }})

    <input type="number"
           name="quantity_{{ p.product_id }}"
           placeholder="Qty"
           min="1"
           style="width:80px;">

</div>

    {% endfor %}

    <button type="submit">Generate Invoice</button>

</form>


</div>

</body>
</html>
